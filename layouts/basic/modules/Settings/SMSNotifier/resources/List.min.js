
Settings_Vtiger_List_Js("Settings_SMSNotifier_List_Js",{triggerEdit:function(c,b){c.stopPropagation();var a=Vtiger_List_Js.getInstance();a.EditRecord(b)},triggerDelete:function(c,b){c.stopPropagation();var a=Vtiger_List_Js.getInstance();a.DeleteRecord(b)}},{EditRecord:function(a){var b=this;AppConnector.request(a).then(function(d){var c=function(f){var e=jQuery("#smsConfig");b.registerProviderTypeChangeEvent(e);var g=app.getvalidationEngineOptions(true);g.onValidationComplete=function(i,h){if(h){b.saveConfiguration(i).then(function(j){if(j.success){var k={};k.text=app.vtranslate("JS_CONFIGURATION_SAVED");Settings_Vtiger_Index_Js.showMessage(k);b.getListViewRecords()}},function(j,k){})}return false};e.validationEngine(g)};app.showModalWindow(d,function(e){if(typeof c=="function"){c(e)}})},function(c,d){})},registerProviderTypeChangeEvent:function(c){var b=this;var a=c.find(".configContent");c.find(".providerType").change(function(g){var f=jQuery(g.currentTarget);var d=f.val();jQuery(".providerFields",c).addClass("hide");jQuery("#"+d+"_container").removeClass("hide")})},saveConfiguration:function(c){var b=this;var a=jQuery.Deferred();var d=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var e=c.serializeFormData();e.module=app.getModuleName();e.parent=app.getParentModuleName();e.action="SaveAjax";AppConnector.request(e).then(function(f){d.progressIndicator({mode:"hide"});app.hideModalWindow();a.resolve(f)},function(f){d.progressIndicator({mode:"hide"});a.reject(f)});return a.promise()},DeleteRecord:function(a){var c=this;var b=app.vtranslate("LBL_DELETE_CONFIRMATION");Vtiger_Helper_Js.showConfirmationBox({message:b}).then(function(d){AppConnector.request(a).then(function(){var e={text:app.vtranslate("JS_RECORD_DELETED_SUCCESSFULLY")};Settings_Vtiger_Index_Js.showMessage(e);c.getListViewRecords()},function(e,f){})},function(d,e){})},registerEvents:function(){this.registerPageNavigationEvents()}});